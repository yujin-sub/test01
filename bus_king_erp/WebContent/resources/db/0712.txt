DROP TABLE ACCOUNT;
DROP TABLE COMPLAINT;
DROP TABLE PENALTY;
DROP TABLE ACCIDENT;
DROP TABLE FUEL;
DROP TABLE REPAIR;
DROP TABLE CALCULATE;
DROP TABLE COMMUTE;
DROP TABLE PAY;
DROP TABLE ALLOCATION;
DROP TABLE EMPLOYER;
DROP TABLE B_R_IMG;
DROP TABLE ROUTE;
DROP TABLE BUS;


CREATE TABLE BUS(
B_NO VARCHAR2(20) PRIMARY KEY,
B_YEAR NUMBER,
B_ENERGY VARCHAR2(20),
B_START DATE,
B_TYPE VARCHAR2(20),
B_ACC NUMBER,
B_STATE VARCHAR2(20),
B_MILE NUMBER,
B_RECENT DATE
);


CREATE TABLE ROUTE(
R_NO VARCHAR2(20) PRIMARY KEY,
R_START VARCHAR2(20),
R_END VARCHAR2(20),
R_S_TIME VARCHAR2(20),
R_E_TIME VARCHAR2(20),
R_INTERVAL NUMBER,
R_MAP VARCHAR2(20),
R_PAY_ADULT NUMBER,
R_PAY_ADULT2 NUMBER,
R_PAY_TEEN NUMBER,
R_PAY_TEEN2 NUMBER,
R_PAY_KID NUMBER,
R_PAY_KID2 NUMBER
);

INSERT INTO ROUTE VALUES('1', '가산', '서울역', '5시 30분', '23시 15분', 15, 'map1.jpg', 1000, 900, 800, 700, 500, 450);
INSERT INTO ROUTE VALUES('2', '구로', '강남', '6시 10분', '22시 30분', 10, 'map2.jpg', 1000, 900, 800, 700, 500, 450);
INSERT INTO ROUTE VALUES('3', '수원', '사당', '7시 00분', '23시 10분', 20, 'map3.jpg', 2000, 1800, 1500, 1200, 1000, 800);


CREATE TABLE B_R_IMG(
BRI_R_NO VARCHAR2(20) PRIMARY KEY CONSTRAINT BRIRNO_FK REFERENCES ROUTE(R_NO),
BRI_IMG1 VARCHAR2(20),
BRI_IMG2 VARCHAR2(20),
BRI_IMG3 VARCHAR2(20),
BRI_IMG4 VARCHAR2(20),
BRI_IMG5 VARCHAR2(20)
);


CREATE TABLE EMPLOYER(
E_NO VARCHAR2(20) PRIMARY KEY,
E_NAME VARCHAR2(20),
E_JUMIN VARCHAR2(20),
E_DNAME VARCHAR2(20),
E_POSITION VARCHAR2(20),
E_B_NO varchar2(20) CONSTRAINT EBNO_FK REFERENCES BUS(B_NO),
E_LICENSE VARCHAR2(20),
E_CONTRACT VARCHAR2(20),
E_CAREER NUMBER,
E_BREAK NUMBER,
E_MARRIAGE VARCHAR2(20),
E_DISABLED VARCHAR2(20),
E_HOBBY VARCHAR2(20),
E_SPECIALITY varchar2(20),
E_PHONE varchar2(20),
E_PWD varchar2(20),
E_MAIL varchar2(40),
E_ADD varchar2(40),
E_START DATE,
E_END DATE
);


CREATE TABLE ALLOCATION(
A_B_NO CONSTRAINT ABNO_FK REFERENCES BUS(B_NO),
A_R_NO CONSTRAINT ARNO_FK REFERENCES ROUTE(R_NO),
A_E_NO CONSTRAINT AENO_FK REFERENCES EMPLOYER(E_NO),
A_TIME VARCHAR2(10)
);


CREATE TABLE PAY(
PAY_CODE VARCHAR2(20) PRIMARY KEY,
PAY_YEAR NUMBER,
PAY_MONTH NUMBER,
PAY_DAY DATE,
PAY_E_NO VARCHAR2(20) CONSTRAINT PAYENO_FK REFERENCES EMPLOYER(E_NO),
PAY_E_NAME VARCHAR2(20),
PAY_E_DNAME VARCHAR2(20),
PAY_E_POSITION VARCHAR2(20),
PAY_CHUL NUMBER,
PAY_WORK NUMBER,
PAY_WORK_T NUMBER,
PAY_P NUMBER,
PAY_P_T NUMBER,
PAY_BOB NUMBER,
PAY_CAR NUMBER,
PAY_M NUMBER,
PAY_TAX NUMBER,
PAY_TOTAL NUMBER,
PAY_NAMETAG VARCHAR2(40),
PAY_BIGO VARCHAR2(40)
);

-- *************************************************************************
--
-- CREATE TABLE COMMUTE(
-- COMM_NO NUMBER PRIMARY KEY,
-- COMM_DATE DATE,
-- COMM_TYPE_D NUMBER,
-- COMM_E_NO CONSTRAINT COMMENO_FK REFERENCES EMPLOYER(E_NO),
-- COMM_E_NAME VARCHAR2(20),
-- COMM_E_DNAME VARCHAR2(20),
-- COMM_E_POSITION VARCHAR2(20),
-- COMM_WORK NUMBER,
-- COMM_TYPE_W VARCHAR2(20),
-- COMM_TIME NUMBER
-- );

-- CREATE TABLE CALCULATE(
-- CAL_CODE VARCHAR2(20) PRIMARY KEY,
-- CAL_DATE DATE,
-- CAL_B_NO CONSTRAINT CALBNO_FK REFERENCES BUS(B_NO),
-- CAL_HAP_C NUMBER,
-- CAL_HAP_M NUMBER,
-- CAL_TOTAL NUMBER,
-- CAL_NAMETAG VARCHAR2(40),
-- CAL_BIGO VARCHAR2(40)
-- );
-- **********************************************************************


CREATE TABLE REPAIR(
RE_CODE VARCHAR2(20) PRIMARY KEY,
RE_B_NO CONSTRAINT REBNO_FK REFERENCES BUS(B_NO),
RE_DATE DATE,
RE_BREAKDOWN VARCHAR2(40),
RE_COST NUMBER,
RE_STATE VARCHAR2(20),
RE_BIGO VARCHAR2(40)
);


CREATE TABLE FUEL(
F_CODE VARCHAR2(20) PRIMARY KEY,
F_B_NO CONSTRAINT FBNO_FK REFERENCES BUS(B_NO),
F_B_ENERGY VARCHAR2(20),
F_DATE DATE,
F_CHARGE NUMBER,
F_COST NUMBER,
F_PAYMENT VARCHAR2(20),
F_NAMETAG VARCHAR2(40),
F_BIGO VARCHAR2(40)
);


CREATE TABLE ACCIDENT(
ACC_NO NUMBER PRIMARY KEY,
ACC_B_NO CONSTRAINT ACCBNO_FK REFERENCES BUS(B_NO),
ACC_E_NO CONSTRAINT ACCENO_FK REFERENCES EMPLOYER(E_NO),
ACC_E_LICENCE VARCHAR2(20),
ACC_STATE VARCHAR2(20),
ACC_DATE DATE,
ACC_LOCATED VARCHAR2(20),
ACC_BREAKDOWN VARCHAR2(40)
);


CREATE TABLE PENALTY(
P_CODE VARCHAR2(20) PRIMARY KEY,
P_B_NO CONSTRAINT PBNO_FK REFERENCES BUS(B_NO),
P_E_NO CONSTRAINT PENO_FK REFERENCES EMPLOYER(E_NO),
P_E_LICENCE VARCHAR2(20),
P_COST NUMBER,
P_PAYMENT VARCHAR2(20),
P_DATE DATE,
P_LOCATED VARCHAR2(20),
P_POLICE VARCHAR2(20),
P_HISTORY VARCHAR2(40),
P_BIGO VARCHAR2(40)
);


CREATE TABLE COMPLAINT(
C_NO NUMBER PRIMARY KEY,
C_TITLE VARCHAR2(512),
C_TYPE VARCHAR2(20),
C_DATE DATE,
C_CONTENT VARCHAR2(1024),
C_B_NO CONSTRAINT CBNO_FK REFERENCES BUS(B_NO),
C_E_NO CONSTRAINT CENO_FK REFERENCES EMPLOYER(E_NO),
C_E_NAME VARCHAR2(20)
);


CREATE TABLE ACCOUNT(
AC_CODE VARCHAR2(20) primary key,
AC_NAME VARCHAR2(40),
AC_COST NUMBER,
AC_DATE DATE,
AC_STATE VARCHAR2(10),
AC_BIGO VARCHAR2(40)
);

commit;
DROP TABLE ACCOUNT;
DROP TABLE COMPLAINT;
DROP TABLE PENALTY;
DROP TABLE ACCIDENT;
DROP TABLE FUEL;
DROP TABLE REPAIR;
DROP TABLE CALCULATE;
DROP TABLE COMMUTE;
DROP TABLE PAY;
DROP TABLE ALLOCATION;
DROP TABLE EMPLOYER;
DROP TABLE B_R_IMG;
DROP TABLE ROUTE;
DROP TABLE BUS;


CREATE TABLE BUS(
B_NO VARCHAR2(20) PRIMARY KEY,
B_YEAR NUMBER,
B_ENERGY VARCHAR2(20),
B_START DATE,
B_TYPE VARCHAR2(20),
B_ACC NUMBER,
B_STATE VARCHAR2(20),
B_MILE NUMBER,
B_RECENT DATE
);


CREATE TABLE ROUTE(
R_NO VARCHAR2(20) PRIMARY KEY,
R_START VARCHAR2(20),
R_END VARCHAR2(20),
R_S_TIME VARCHAR2(20),
R_E_TIME VARCHAR2(20),
R_INTERVAL NUMBER,
R_MAP VARCHAR2(20),
R_PAY_ADULT NUMBER,
R_PAY_ADULT2 NUMBER,
R_PAY_TEEN NUMBER,
R_PAY_TEEN2 NUMBER,
R_PAY_KID NUMBER,
R_PAY_KID2 NUMBER
);

INSERT INTO ROUTE VALUES('1', '가산', '서울역', '5시 30분', '23시 15분', 15, 'map1.jpg', 1000, 900, 800, 700, 500, 450);
INSERT INTO ROUTE VALUES('2', '구로', '강남', '6시 10분', '22시 30분', 10, 'map2.jpg', 1000, 900, 800, 700, 500, 450);
INSERT INTO ROUTE VALUES('3', '수원', '사당', '7시 00분', '23시 10분', 20, 'map3.jpg', 2000, 1800, 1500, 1200, 1000, 800);


CREATE TABLE B_R_IMG(
BRI_R_NO VARCHAR2(20) PRIMARY KEY CONSTRAINT BRIRNO_FK REFERENCES ROUTE(R_NO),
BRI_IMG1 VARCHAR2(20),
BRI_IMG2 VARCHAR2(20),
BRI_IMG3 VARCHAR2(20),
BRI_IMG4 VARCHAR2(20),
BRI_IMG5 VARCHAR2(20)
);


CREATE TABLE EMPLOYER(
E_NO VARCHAR2(20) PRIMARY KEY,
E_NAME VARCHAR2(20),
E_JUMIN VARCHAR2(20),
E_DNAME VARCHAR2(20),
E_POSITION VARCHAR2(20),
E_B_NO varchar2(20) CONSTRAINT EBNO_FK REFERENCES BUS(B_NO),
E_LICENSE VARCHAR2(20),
E_CONTRACT VARCHAR2(20),
E_CAREER NUMBER,
E_BREAK NUMBER,
E_MARRIAGE VARCHAR2(20),
E_DISABLED VARCHAR2(20),
E_HOBBY VARCHAR2(20),
E_SPECIALITY varchar2(20),
E_PHONE varchar2(20),
E_PWD varchar2(20),
E_MAIL varchar2(40),
E_ADD varchar2(40),
E_START DATE,
E_END DATE
);


CREATE TABLE ALLOCATION(
A_B_NO CONSTRAINT ABNO_FK REFERENCES BUS(B_NO),
A_R_NO CONSTRAINT ARNO_FK REFERENCES ROUTE(R_NO),
A_E_NO CONSTRAINT AENO_FK REFERENCES EMPLOYER(E_NO),
A_TIME VARCHAR2(10)
);


CREATE TABLE PAY(
PAY_CODE VARCHAR2(20) PRIMARY KEY,
PAY_YEAR NUMBER,
PAY_MONTH NUMBER,
PAY_DAY DATE,
PAY_E_NO VARCHAR2(20) CONSTRAINT PAYENO_FK REFERENCES EMPLOYER(E_NO),
PAY_E_NAME VARCHAR2(20),
PAY_E_DNAME VARCHAR2(20),
PAY_E_POSITION VARCHAR2(20),
PAY_CHUL NUMBER,
PAY_WORK NUMBER,
PAY_WORK_T NUMBER,
PAY_P NUMBER,
PAY_P_T NUMBER,
PAY_BOB NUMBER,
PAY_CAR NUMBER,
PAY_M NUMBER,
PAY_TAX NUMBER,
PAY_TOTAL NUMBER,
PAY_NAMETAG VARCHAR2(40),
PAY_BIGO VARCHAR2(40)
);

-- *************************************************************************
--
-- CREATE TABLE COMMUTE(
-- COMM_NO NUMBER PRIMARY KEY,
-- COMM_DATE DATE,
-- COMM_TYPE_D NUMBER,
-- COMM_E_NO CONSTRAINT COMMENO_FK REFERENCES EMPLOYER(E_NO),
-- COMM_E_NAME VARCHAR2(20),
-- COMM_E_DNAME VARCHAR2(20),
-- COMM_E_POSITION VARCHAR2(20),
-- COMM_WORK NUMBER,
-- COMM_TYPE_W VARCHAR2(20),
-- COMM_TIME NUMBER
-- );

-- CREATE TABLE CALCULATE(
-- CAL_CODE VARCHAR2(20) PRIMARY KEY,
-- CAL_DATE DATE,
-- CAL_B_NO CONSTRAINT CALBNO_FK REFERENCES BUS(B_NO),
-- CAL_HAP_C NUMBER,
-- CAL_HAP_M NUMBER,
-- CAL_TOTAL NUMBER,
-- CAL_NAMETAG VARCHAR2(40),
-- CAL_BIGO VARCHAR2(40)
-- );
-- **********************************************************************


CREATE TABLE REPAIR(
RE_CODE VARCHAR2(20) PRIMARY KEY,
RE_B_NO CONSTRAINT REBNO_FK REFERENCES BUS(B_NO),
RE_DATE DATE,
RE_BREAKDOWN VARCHAR2(40),
RE_COST NUMBER,
RE_STATE VARCHAR2(20),
RE_BIGO VARCHAR2(40)
);


CREATE TABLE FUEL(
F_CODE VARCHAR2(20) PRIMARY KEY,
F_B_NO CONSTRAINT FBNO_FK REFERENCES BUS(B_NO),
F_B_ENERGY VARCHAR2(20),
F_DATE DATE,
F_CHARGE NUMBER,
F_COST NUMBER,
F_PAYMENT VARCHAR2(20),
F_NAMETAG VARCHAR2(40),
F_BIGO VARCHAR2(40)
);


CREATE TABLE ACCIDENT(
ACC_NO NUMBER PRIMARY KEY,
ACC_B_NO CONSTRAINT ACCBNO_FK REFERENCES BUS(B_NO),
ACC_E_NO CONSTRAINT ACCENO_FK REFERENCES EMPLOYER(E_NO),
ACC_E_LICENCE VARCHAR2(20),
ACC_STATE VARCHAR2(20),
ACC_DATE DATE,
ACC_LOCATED VARCHAR2(20),
ACC_BREAKDOWN VARCHAR2(40)
);


CREATE TABLE PENALTY(
P_CODE VARCHAR2(20) PRIMARY KEY,
P_B_NO CONSTRAINT PBNO_FK REFERENCES BUS(B_NO),
P_E_NO CONSTRAINT PENO_FK REFERENCES EMPLOYER(E_NO),
P_E_LICENCE VARCHAR2(20),
P_COST NUMBER,
P_PAYMENT VARCHAR2(20),
P_DATE DATE,
P_LOCATED VARCHAR2(20),
P_POLICE VARCHAR2(20),
P_HISTORY VARCHAR2(40),
P_BIGO VARCHAR2(40)
);


CREATE TABLE COMPLAINT(
C_NO NUMBER PRIMARY KEY,
C_TITLE VARCHAR2(512),
C_TYPE VARCHAR2(20),
C_DATE DATE,
C_CONTENT VARCHAR2(1024),
C_B_NO CONSTRAINT CBNO_FK REFERENCES BUS(B_NO),
C_E_NO CONSTRAINT CENO_FK REFERENCES EMPLOYER(E_NO),
C_E_NAME VARCHAR2(20)
);


CREATE TABLE ACCOUNT(
AC_CODE VARCHAR2(20) primary key,
AC_NAME VARCHAR2(40),
AC_COST NUMBER,
AC_DATE DATE,
AC_STATE VARCHAR2(10),
AC_BIGO VARCHAR2(40)
);

commit;
